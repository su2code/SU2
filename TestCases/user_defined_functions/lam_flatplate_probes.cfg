%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
% SU2 configuration file                                                       %
% Case description: Test probe performance with multiple probes (ADT path).   %
% Author: Probe Performance Fix                                               %
% Date: Jan 2025                                                               %
% File Version 8.3.0 "Harrier"                                               %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
SOLVER= NAVIER_STOKES
KIND_TURB_MODEL= NONE
RESTART_SOL= NO
%
% User defined expressions with multiple probes to test ADT path (>10 probes)
% This tests the probe performance fix for issue #2546
CUSTOM_OUTPUTS= 'velocity : Macro{sqrt(pow(VELOCITY_X, 2) + pow(VELOCITY_Y, 2) + pow(VELOCITY_Z, 2))};\
                 probe1 : Probe{PRESSURE}[0.001, 0.001, 0.01];\
                 probe2 : Probe{PRESSURE}[0.002, 0.001, 0.02];\
                 probe3 : Probe{PRESSURE}[0.003, 0.001, 0.03];\
                 probe4 : Probe{PRESSURE}[0.004, 0.001, 0.04];\
                 probe5 : Probe{PRESSURE}[0.005, 0.001, 0.05];\
                 probe6 : Probe{PRESSURE}[0.006, 0.001, 0.06];\
                 probe7 : Probe{PRESSURE}[0.007, 0.001, 0.07];\
                 probe8 : Probe{PRESSURE}[0.008, 0.001, 0.08];\
                 probe9 : Probe{PRESSURE}[0.009, 0.001, 0.09];\
                 probe10 : Probe{PRESSURE}[0.001, 0.002, 0.01];\
                 probe11 : Probe{PRESSURE}[0.002, 0.002, 0.02];\
                 probe12 : Probe{PRESSURE}[0.003, 0.002, 0.03];\
                 probe13 : Probe{PRESSURE}[0.004, 0.002, 0.04];\
                 probe14 : Probe{PRESSURE}[0.005, 0.002, 0.05];\
                 probe15 : Probe{PRESSURE}[0.006, 0.002, 0.06]'
%
SCREEN_OUTPUT= INNER_ITER, RMS_DENSITY, probe1, probe8, probe15
HISTORY_OUTPUT = ITER, CUSTOM

% -------------------- COMPRESSIBLE FREE-STREAM DEFINITION --------------------%
%
MACH_NUMBER= 0.1
INIT_OPTION= TD_CONDITIONS
FREESTREAM_OPTION= TEMPERATURE_FS
FREESTREAM_TEMPERATURE= 297.62
REYNOLDS_NUMBER= 600
REYNOLDS_LENGTH= 0.02

% ---------------------- REFERENCE VALUE DEFINITION ---------------------------%
%
REF_ORIGIN_MOMENT_X = 0.00
REF_ORIGIN_MOMENT_Y = 0.00
REF_ORIGIN_MOMENT_Z = 0.00
REF_LENGTH= 0.02
REF_AREA= 0.02
%
FLUID_MODEL= IDEAL_GAS
GAMMA_VALUE= 1.4
GAS_CONSTANT= 287.87
VISCOSITY_MODEL= CONSTANT_VISCOSITY
MU_CONSTANT= 0.001

% -------------------- BOUNDARY CONDITION DEFINITION --------------------------%
%
MARKER_HEATFLUX= ( y_minus, 0.0 )
%
MARKER_SYM= ( y_plus )
MARKER_PERIODIC= ( x_minus, x_plus, 0,0,0, 0,0,0, 0.01,0,0 )
%
MARKER_INLET= ( z_minus, 300.0, 100000.0, 0.0, 0.0, 1.0 )
MARKER_OUTLET= ( z_plus, 99000.0 )
%
MARKER_PLOTTING= ( y_minus )
MARKER_MONITORING= ( y_minus )
MARKER_ANALYZE= ( z_minus, z_plus )

% ------------- COMMON PARAMETERS DEFINING THE NUMERICAL METHOD ---------------%
%
NUM_METHOD_GRAD= GREEN_GAUSS
CFL_NUMBER= 1e4
CFL_ADAPT= NO
TIME_DISCRE_FLOW= EULER_IMPLICIT

% ------------------------ LINEAR SOLVER DEFINITION ---------------------------%
%
LINEAR_SOLVER= FGMRES
LINEAR_SOLVER_PREC= ILU
LINEAR_SOLVER_ERROR= 0.2
LINEAR_SOLVER_ITER= 5

% -------------------- FLOW NUMERICAL METHOD DEFINITION -----------------------%
%
CONV_NUM_METHOD_FLOW= ROE
MUSCL_FLOW= YES
SLOPE_LIMITER_FLOW= NONE

% --------------------------- CONVERGENCE PARAMETERS --------------------------%
%
CONV_RESIDUAL_MINVAL= -11
CONV_STARTITER= 0
INNER_ITER= 20

% ------------------------- INPUT/OUTPUT INFORMATION --------------------------%
%
MESH_FORMAT= BOX
MESH_BOX_LENGTH= (0.01, 0.01, 0.1)
MESH_BOX_SIZE= (9, 17, 65)
