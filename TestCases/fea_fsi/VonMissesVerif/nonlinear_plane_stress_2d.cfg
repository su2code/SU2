%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SU2 configuration file                                                       %
% Case description: Cantilever 2D beam in plane stress.                        %
% File Version 8.4.0 "Harrier"                                                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

SOLVER= ELASTICITY
GEOMETRIC_CONDITIONS= LARGE_DEFORMATIONS
MATERIAL_MODEL= NEO_HOOKEAN
FORMULATION_ELASTICITY_2D= PLANE_STRESS

ELASTICITY_MODULUS= 3E7
POISSON_RATIO= 0.3
MATERIAL_THERMAL_EXPANSION_COEFF= 2e-5
MATERIAL_REFERENCE_TEMPERATURE= 300
FREESTREAM_TEMPERATURE= 350
MATERIAL_DENSITY= 7854

MARKER_CLAMPED= ( x_minus )
MARKER_PRESSURE= ( y_minus, 0, y_plus, 0 )
% For the 3D version:
% MARKER_PRESSURE= ( y_minus, 0, y_plus, 0, z_minus, 0, z_plus, 0 )
MARKER_LOAD= ( x_plus, 1, 1000, 0, -1, 0 )

LINEAR_SOLVER= FGCRODR
LINEAR_SOLVER_PREC= ILU
LINEAR_SOLVER_ERROR= 1E-4
LINEAR_SOLVER_ITER= 100
LINEAR_SOLVER_RESTART_FREQUENCY= 100
LINEAR_SOLVER_RESTART_DEFLATION= 20

% RECTANGLE for 2D and BOX for 3D.
MESH_FORMAT= RECTANGLE
MESH_BOX_LENGTH= ( 1, 0.05, 0.005 )
MESH_BOX_SIZE= ( 129, 33, 2 )

% The von Mises stress was checked against a 3D version of this case.
% Note that plane stress conditions are difficult to replicate in 3D
% because linear systems become stiff for very thin elements.
% However we can see the 3D result approach the 2D result as we decrease
% the box size in the z direction.
SCREEN_OUTPUT= INNER_ITER, RMS_RES, VMS, LINSOL

CONV_FIELD= REL_RMS_RTOL
CONV_STARTITER= 0
CONV_RESIDUAL_MINVAL= -6
INNER_ITER= 30

TABULAR_FORMAT= CSV
CONV_FILENAME= history
VOLUME_FILENAME= beam
RESTART_FILENAME= restart
SOLUTION_FILENAME= restart
OUTPUT_WRT_FREQ= 1
